(window.webpackJsonp=window.webpackJsonp||[]).push([[423],{697:function(t,s,e){"use strict";e.r(s);var i=e(12),d=Object(i.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"fiddler-安装及使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-安装及使用"}},[t._v("#")]),t._v(" Fiddler 安装及使用")]),t._v(" "),s("h2",{attrs:{id:"fiddler-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-简介"}},[t._v("#")]),t._v(" Fiddler 简介")]),t._v(" "),s("h3",{attrs:{id:"什么是-fiddler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-fiddler"}},[t._v("#")]),t._v(" 什么是 Fiddler")]),t._v(" "),s("p",[t._v("Fiddler 是一个 http 协议调试代理工具，它能够记录并检查所有你的电脑和互联网之间的 http 通讯，设置断点，查看所有的进出 Fiddler 的数据。 Fiddler 要比其他的网络调试器要更加简单，因为它不仅仅暴露 http 通讯还提供了一个用户友好的格式。")]),t._v(" "),s("h3",{attrs:{id:"为什么使用-fiddler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用-fiddler"}},[t._v("#")]),t._v(" 为什么使用 Fiddler")]),t._v(" "),s("ul",[s("li",[t._v("FireBug：虽然可以抓包，但是对于分析 http 请求的详细信息，不够强大。模拟 http 请求的功能也不够，且 firebug 常常是需要“无刷新修改”，如果刷新了页面，所有的修改都不会保存。")]),t._v(" "),s("li",[t._v("WireShark：是通用的抓包工具，但是比较庞大，对于只需要抓取 http 请求的应用来说，似乎有些大材小用。")]),t._v(" "),s("li",[t._v("HttpWatch：也是比较常用的 http 抓包工具，但是只支持 IE 和 firefox 浏览器(其他浏览器可能会有相应的插件)，对于想要调试 chrome 浏览器的 http 请求，似乎稍显无力，而 Fiddler 是一个使用本地 127.0.0.1:8888 的 HTTP 代理，任何能够设置 HTTP 代理为 127.0.0.1:8888 的浏览器和应用程序都可以使用 Fiddler。")])]),t._v(" "),s("h3",{attrs:{id:"fiddler-简介-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-简介-2"}},[t._v("#")]),t._v(" Fiddler 简介")]),t._v(" "),s("p",[t._v("Fiddler 是位于客户端和服务器端的 HTTP 代理，也是目前最常用的 http 抓包工具之一，它能够记录客户端和服务器之间的所有 HTTP 请求，可以针对特定的 HTTP 请求，分析请求数据、设置断点、调试web应用、修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是 web 调试的利器。")]),t._v(" "),s("p",[t._v("既然是代理，也就是说：客户端的所有请求都要先经过 Fiddler，然后转发到相应的服务器，反之，服务器端的所有响应，也都会先经过 Fiddler 然后发送到客户端，基于这个原因，Fiddler支持所有可以设置 http 代理为 127.0.0.1:8888 的浏览器和应用程序。使用了 Fiddler 之后，web 客户端和服务器的请求如下所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/772156-20170609120423684-397552650.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-捕获-https-会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-捕获-https-会话"}},[t._v("#")]),t._v(" Fiddler 捕获 HTTPS 会话")]),t._v(" "),s("p",[t._v("默认下，Fiddler 不会捕获 "),s("code",[t._v("HTTPS")]),t._v(" 会话，需要设置下, 打开 "),s("code",[t._v("Fiddler Tools")]),t._v(" --\x3e "),s("code",[t._v("Fiddler Options")]),t._v(" --\x3e "),s("code",[t._v("HTTPS")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517155878.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("选中 Checkbox，弹出如下的对话框，点击 “Yes”")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517155967.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("安装证书")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fidller_1517156054.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("忽略 HTTPS 错误")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517156151.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-基本界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-基本界面"}},[t._v("#")]),t._v(" Fiddler 基本界面")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517156582.png",alt:""}})]),t._v(" "),s("p",[s("strong",[s("code",[t._v("Inspectors")]),t._v(" 下有很多查看 "),s("code",[t._v("Request")]),t._v(" 或者 "),s("code",[t._v("Response")]),t._v(" 的消息。其中 "),s("code",[t._v("Raw")]),t._v(" 可以查看完整的消息，"),s("code",[t._v("Headers")]),t._v(" 只查看消息中的 "),s("code",[t._v("header")]),t._v("，"),s("code",[t._v("JSON")]),t._v(" 返回响应的 "),s("code",[t._v("JSON")]),t._v(" 数据，如下图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517157333.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-http-统计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-http-统计"}},[t._v("#")]),t._v(" Fiddler HTTP 统计")]),t._v(" "),s("p",[t._v("通过陈列出所有的 HTTP 通信量，Fiddler 可以很容易的向您展示哪些文件生成了您当前请求的页面。使用 Statistics 页签，用户可以通过选择多个会话来得来这几个会话的总的信息统计，比如多个请求和传输的字节数。选择第一个请求和最后一个请求，可获得整个页面加载所消耗的总体时间。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517157702.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-命令行工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-命令行工具"}},[t._v("#")]),t._v(" Fiddler 命令行工具")]),t._v(" "),s("p",[t._v("Fiddler 的左下角有一个命令行工具叫做 QuickExec，允许你直接输入命令，常用命令，如：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("help")]),t._v("：打开官方的使用页面介绍，所有的命令都会列出来")]),t._v(" "),s("li",[s("code",[t._v("cls")]),t._v("：清屏(Ctrl + X)")]),t._v(" "),s("li",[s("code",[t._v("select")]),t._v("：选择会话的命令")]),t._v(" "),s("li",[s("code",[t._v("?.png")]),t._v("：用来选择 png 后缀的图片")]),t._v(" "),s("li",[s("code",[t._v("bpu")]),t._v("：截获 Request")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517158627.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-会话管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-会话管理"}},[t._v("#")]),t._v(" Fiddler 会话管理")]),t._v(" "),s("p",[t._v("每次使用 Fiddler, 打开一个网站，都能在 Fiddler 中看到几十个会话，看得眼花缭乱。最好的办法是过滤掉一些会话，比如过滤掉图片的会话. Fiddler 中有过滤的功能, 在右边的 Filters 页签中")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159097.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"过滤会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#过滤会话"}},[t._v("#")]),t._v(" 过滤会话")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159097.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"比较会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比较会话"}},[t._v("#")]),t._v(" 比较会话")]),t._v(" "),s("p",[t._v("选中 2 个会话，右键然后点击 Compare，就可以用 WinDiff 来比较两个会话的不同了(在此之前需要先设置并安装 WinDiff)")]),t._v(" "),s("h4",{attrs:{id:"设置-windiff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置-windiff"}},[t._v("#")]),t._v(" 设置 WinDiff")]),t._v(" "),s("p",[t._v("图1")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159628.png",alt:""}})]),t._v(" "),s("p",[t._v("图2")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159657.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"比较"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比较"}},[t._v("#")]),t._v(" 比较")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159707.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517159730.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"查询会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询会话"}},[t._v("#")]),t._v(" 查询会话")]),t._v(" "),s("p",[t._v("用快捷键 "),s("code",[t._v("Ctrl+F")]),t._v(" 打开 "),s("code",[t._v("Find Sessions")]),t._v(" 的对话框，输入关键字查询你要的会话。查询到的会话会用黄色显示\n"),s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517160507.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"保存会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保存会话"}},[t._v("#")]),t._v(" 保存会话")]),t._v(" "),s("p",[t._v("有些时候我们需要把会话保存下来，以便发给别人或者以后去分析。选中你想保存的会话，然后点击 "),s("code",[t._v("File")]),t._v(" --\x3e "),s("code",[t._v("Save")]),t._v(" --\x3e "),s("code",[t._v("Selected Sessions")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517160597.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"fiddler-手机抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-手机抓包"}},[t._v("#")]),t._v(" Fiddler 手机抓包")]),t._v(" "),s("h3",{attrs:{id:"fiddler-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-配置"}},[t._v("#")]),t._v(" Fiddler 配置")]),t._v(" "),s("p",[t._v("需要配置 "),s("code",[t._v("Fiddler")]),t._v(" 允许远程连接，点击 "),s("code",[t._v("Tools")]),t._v(" --\x3e "),s("code",[t._v("Fiddler Options")]),t._v(" --\x3e "),s("code",[t._v("Connections")]),t._v("，勾选 "),s("code",[t._v("allow remote computers to connect")]),t._v("，默认监听端口为 "),s("code",[t._v("8888")]),t._v("，若端口被占用可以设置成其他的，配置好后要重新启动 "),s("code",[t._v("Fiddler")]),t._v("，如下图：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517161191.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"ios-系统抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios-系统抓包"}},[t._v("#")]),t._v(" iOS 系统抓包")]),t._v(" "),s("h4",{attrs:{id:"设置网络代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置网络代理"}},[t._v("#")]),t._v(" 设置网络代理")]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("iPhone")]),t._v(", 找到你的网络连接，打开 "),s("code",[t._v("HTTP 代理")]),t._v("，输入 "),s("code",[t._v("Fiddler")]),t._v(" 所在机器的 "),s("code",[t._v("IP")]),t._v(" 地址以及 "),s("code",[t._v("Fiddler")]),t._v(" 的端口号 "),s("code",[t._v("8888")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0412.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"安装-fiddler-证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-fiddler-证书"}},[t._v("#")]),t._v(" 安装 Fiddler 证书")]),t._v(" "),s("p",[t._v("这一步是为了让 "),s("code",[t._v("Fiddler")]),t._v(" 能捕获 "),s("code",[t._v("HTTPS")]),t._v(" 请求。如果你只需要截获 "),s("code",[t._v("HTTP")]),t._v(" 请求，可以忽略这一步")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0413.png",alt:""}})]),t._v(" "),s("p",[t._v("首先要知道 "),s("code",[t._v("Fiddler")]),t._v(" 所在的机器的 "),s("code",[t._v("IP")]),t._v(" 地址，例如我安装了 "),s("code",[t._v("Fiddler")]),t._v(" 的机器的 "),s("code",[t._v("IP")]),t._v(" 地址是："),s("code",[t._v("192.168.0.103")]),t._v("\n打开 "),s("code",[t._v("iPhone")]),t._v(" 的 "),s("code",[t._v("Safari")]),t._v("，访问 "),s("code",[t._v("http://192.168.0.103:8888")]),t._v("，点击 "),s("code",[t._v("FiddlerRoot certificate")]),t._v(" 然后安装证书")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0414.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0415.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0416.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0417.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"开启-fiddler-证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启-fiddler-证书"}},[t._v("#")]),t._v(" 开启 Fiddler 证书")]),t._v(" "),s("p",[t._v("iOS 10.3 以后，安装了的证书不是默认启用的，而是需要手动开启。"),s("code",[t._v("设置")]),t._v(" --\x3e "),s("code",[t._v("通用")]),t._v(" -> "),s("code",[t._v("关于本机")]),t._v(" -> "),s("code",[t._v("证书信息设置")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/IMG_0418.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"抓包效果图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#抓包效果图"}},[t._v("#")]),t._v(" 抓包效果图")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pic.sansei.top/images/windows/fiddler_1517163431.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("p",[t._v("用完了，需要把 "),s("code",[t._v("iPhone")]),t._v(" 上的 "),s("code",[t._v("Fiddler")]),t._v(" 代理关闭，否则无法上网。")])])}),[],!1,null,null,null);s.default=d.exports}}]);