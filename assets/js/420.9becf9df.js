(window.webpackJsonp=window.webpackJsonp||[]).push([[420],{694:function(e,s,a){"use strict";a.r(s);var t=a(12),r=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"安装docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[e._v("#")]),e._v(" 安装Docker-Compose")]),e._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[e._v("#")]),e._v(" 概述")]),e._v(" "),s("p",[s("code",[e._v("Docker Compose")]),e._v(" 是 Docker 官方编排（Orchestration）项目之一，负责快速的部署分布式应用。")]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 项目是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排。从功能上看，跟 "),s("code",[e._v("OpenStack")]),e._v(" 中的 "),s("code",[e._v("Heat")]),e._v(" 十分类似。")]),e._v(" "),s("p",[e._v("其代码目前在 "),s("a",{attrs:{href:"https://github.com/docker/compose",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/docker/compose"),s("OutboundLink")],1),e._v(" 上开源。")]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 定位是 「定义和运行多个 Docker 容器的应用（Defining and running multi-container Docker applications）」，其前身是开源项目 Fig。")]),e._v(" "),s("p",[e._v("通过第一部分中的介绍，我们知道使用一个 "),s("code",[e._v("Dockerfile")]),e._v(" 模板文件，可以让用户很方便的定义一个单独的应用容器。然而，在日常工作中，经常会碰到需要多个容器相互配合来完成某项任务的情况。例如要实现一个 Web 项目，除了 Web 服务容器本身，往往还需要再加上后端的数据库服务容器，甚至还包括负载均衡容器等。")]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 恰好满足了这样的需求。它允许用户通过一个单独的 "),s("code",[e._v("docker-compose.yml")]),e._v(" 模板文件（YAML 格式）来定义一组相关联的应用容器为一个项目（project）。")]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 中有两个重要的概念：")]),e._v(" "),s("ul",[s("li",[e._v("服务 ("),s("code",[e._v("service")]),e._v(")：一个应用的容器，实际上可以包括若干运行相同镜像的容器实例。")]),e._v(" "),s("li",[e._v("项目 ("),s("code",[e._v("project")]),e._v(")：由一组关联的应用容器组成的一个完整业务单元，在 "),s("code",[e._v("docker-compose.yml")]),e._v(" 文件中定义。")])]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 的默认管理对象是项目，通过子命令对项目中的一组容器进行便捷地生命周期管理。")]),e._v(" "),s("p",[s("code",[e._v("Compose")]),e._v(" 项目由 Python 编写，实现上调用了 Docker 服务提供的 API 来对容器进行管理。因此，只要所操作的平台支持 Docker API，就可以在其上利用 "),s("code",[e._v("Compose")]),e._v(" 来进行编排管理。")]),e._v(" "),s("h2",{attrs:{id:"二进制包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二进制包"}},[e._v("#")]),e._v(" 二进制包")]),e._v(" "),s("p",[e._v("在 Linux 上的也安装十分简单，从 "),s("a",{attrs:{href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方 GitHub Release"),s("OutboundLink")],1),e._v(" 处直接下载编译好的二进制文件即可。")]),e._v(" "),s("p",[e._v("例如，在 Linux 64 位系统上直接下载对应的二进制包。")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-L")]),e._v(" https://github.com/docker/compose/releases/download/1.25.4/docker-compose-"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("uname")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v("-"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("uname")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/docker-compose\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /usr/local/bin/docker-compose\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h2",{attrs:{id:"文件安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件安装"}},[e._v("#")]),e._v(" 文件安装")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("工具")]),e._v(" "),s("th",[e._v("下载地址")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[e._v("Docker Compose")])]),e._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("点我获取"),s("OutboundLink")],1)])])])]),e._v(" "),s("ul",[s("li",[e._v("进入官网下载文件")]),e._v(" "),s("li",[e._v("上传文件到 "),s("code",[e._v("/usr/local/bin/")]),e._v(" 下, 执行下列命令进行授权")])]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Docker Compose 文件位置")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /usr/local/bin/\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 授权")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /usr/local/bin/docker-compose\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("h2",{attrs:{id:"卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载"}},[e._v("#")]),e._v(" 卸载")]),e._v(" "),s("p",[e._v("如果是二进制包方式安装的，删除二进制文件即可。")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" /usr/local/bin/docker-compose\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);